<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Quality Analysis - Malaysia</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .chart-container {
            width: 90%;
            margin: auto;
            margin-bottom: 50px;
        }
        h2 {
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Water Quality Trends in Malaysia (2000â€“2021)</h1>

    <!-- Stacked Area Chart -->
    <div class="chart-container">
        <h2>Stacked Area Chart: Pollution Categories Over Time</h2>
        <canvas id="stackedAreaChart"></canvas>
    </div>

    <!-- Line Graph -->
    <div class="chart-container">
        <h2>Line Graph: Proportion of Clean Basins Over Time</h2>
        <canvas id="lineGraph"></canvas>
    </div>

    <!-- Bar Chart -->
    <div class="chart-container">
        <h2>Bar Chart: Proportion of Polluted Basins Over Time</h2>
        <canvas id="barChart"></canvas>
    </div>

    <script>
        // Sample Data (Replace with your actual dataset)
        const data = {
            years: [2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
            bod5: {
                clean: [32.5, 48.33, 57.5, 63.33, 54.17, 52.74, 65.75, 65.73, 55.24, 19.58, 8.39, 2.14, 8.57, 0, 0, 0, 0, 37.76, 36.81, 57.64, 86.11],
                slightlyPolluted: [52.5, 34.17, 24.17, 24.17, 30.83, 28.08, 19.18, 25.87, 32.17, 51.05, 55.24, 57.14, 49.29, 32.86, 10.71, 13.57, 7.86, 25.87, 27.08, 31.94, 7.64],
                polluted: [15, 17.5, 18.33, 12.5, 15, 19.18, 15.07, 8.39, 12.59, 29.37, 36.36, 40.71, 42.14, 67.14, 89.29, 86.43, 92.14, 36.36, 36.11, 10.42, 6.25]
            },
            nh3n: {
                clean: [41.67, 44.17, 42.5, 45, 35.83, 33.56, 33.56, 33.57, 50.35, 39.16, 24.48, 29.29, 25, 29.29, 29.29, 22.86, 13.57, 3.5, 8.33, 19.44, 40.28],
                slightlyPolluted: [40, 35.83, 33.33, 30.83, 39.17, 36.99, 38.36, 41.26, 26.57, 32.87, 46.15, 45.71, 47.86, 41.43, 42.14, 46.43, 59.29, 61.54, 51.39, 51.39, 25.69],
                polluted: [18.33, 20, 24.17, 24.17, 25, 29.45, 28.08, 25.17, 23.08, 27.97, 29.37, 25, 27.14, 29.29, 28.57, 30.71, 27.14, 34.97, 40.28, 29.17, 34.03]
            },
            ss: {
                clean: [35, 47.5, 65, 62.5, 65, 61.64, 57.53, 43.36, 39.86, 37.76, 47.55, 56.43, 68.57, 75, 70.71, 76.43, 62.14, 49.65, 54.17, 76.39, 88.19],
                slightlyPolluted: [20.83, 20.83, 11.67, 14.17, 9.17, 15.07, 13.7, 27.27, 23.08, 22.38, 18.88, 18.57, 20, 17.14, 15.71, 9.29, 16.43, 21.68, 25, 9.72],
                polluted: [44.17, 31.67, 23.33, 23.33, 25.83, 23.29, 28.77, 29.37, 37.06, 39.86, 33.57, 25, 11.43, 7.86, 13.57, 14.29, 21.43, 28.67, 20.83, 13.89]
            }
        };

        // Stacked Area Chart
        const ctx1 = document.getElementById('stackedAreaChart').getContext('2d');
        new Chart(ctx1, {
            type: 'line',
            data: {
                labels: data.years,
                datasets: [
                    { label: 'BOD5 - Clean', data: data.bod5.clean, borderColor: 'green', backgroundColor: 'rgba(0, 128, 0, 0.2)', fill: true },
                    { label: 'BOD5 - Slightly Polluted', data: data.bod5.slightlyPolluted, borderColor: 'orange', backgroundColor: 'rgba(255, 165, 0, 0.2)', fill: '-1' },
                    { label: 'BOD5 - Polluted', data: data.bod5.polluted, borderColor: 'red', backgroundColor: 'rgba(255, 0, 0, 0.2)', fill: '-1' }
                ]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'top' } },
                scales: { x: { stacked: true }, y: { stacked: true, beginAtZero: true } }
            }
        });

        // Line Graph
        const ctx2 = document.getElementById('lineGraph').getContext('2d');
        new Chart(ctx2, {
            type: 'line',
            data: {
                labels: data.years,
                datasets: [
                    { label: 'BOD5 - Clean', data: data.bod5.clean, borderColor: 'green', fill: false },
                    { label: 'NH3N - Clean', data: data.nh3n.clean, borderColor: 'blue', fill: false },
                    { label: 'SS - Clean', data: data.ss.clean, borderColor: 'purple', fill: false }
                ]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'top' } },
                scales: { x: { beginAtZero: true }, y: { beginAtZero: true } }
            }
        });

        // Bar Chart
        const ctx3 = document.getElementById('barChart').getContext('2d');
        new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: data.years,
                datasets: [
                    { label: 'BOD5 - Polluted', data: data.bod5.polluted, backgroundColor: 'red' },
                    { label: 'NH3N - Polluted', data: data.nh3n.polluted, backgroundColor: 'blue' },
                    { label: 'SS - Polluted', data: data.ss.polluted, backgroundColor: 'purple' }
                ]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'top' } },
                scales: { x: { stacked: false }, y: { beginAtZero: true } }
            }
        });
    </script>
</body>
</html>